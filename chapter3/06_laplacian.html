<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Samim:wght@400;700&family=Gandom:wght@400;700&family=Parastoo:wght@400;700&family=Sahel:wght@300;400;600;700&family=Vazir:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <title>فصل سوم - عملگر لاپلاسین</title>
    <style>
        body {
            font-family: 'Vazir', 'Sahel', 'Samim', 'Gandom', 'Parastoo', 'Tahoma', 'Arial', sans-serif;
            line-height: 1.8;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-right: 4px solid #3498db;
            padding-right: 15px;
        }
        h3 {
            color: #555;
            margin-top: 20px;
        }
        .formula {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            border-right: 3px solid #3498db;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-right: 3px solid #ffc107;
        }
        .definition {
            background-color: #e7f3ff;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-right: 3px solid #2196F3;
        }
        .kernel {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            text-align: center;
            font-family: 'Vazir', 'Sahel', 'Samim', 'Gandom', 'Parastoo', 'Tahoma', 'Arial', sans-serif;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table td, table th {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        table th {
            background-color: #3498db;
            color: white;
        }
        ul, ol {
            margin: 15px 0;
            padding-right: 30px;
        }
        li {
            margin: 8px 0;
        }
        .nav {
            background-color: #34495e;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .nav a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
        }
        .nav a:hover {
            text-decoration: underline;
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <div class="nav">
            <a href="index.html">فهرست مطالب</a>
            <a href="05_gradient.html">عملگرهای گرادیان</a>
            <a href="06_laplacian.html">عملگر لاپلاسین</a>
        </div>

        <h1>فصل سوم – عملگر لاپلاسین</h1>

        <div class="definition">
            <h2>مقدمه</h2>
            <p>لاپلاسین یک عملگر مشتق مرتبه دوم است که برای ارتقای جزئیات ریز تصویر و تشخیص لبه‌ها استفاده می‌شود. برخلاف گرادیان که یک بردار است، لاپلاسین یک اسکالر است.</p>
        </div>

        <h2>تعریف ریاضی لاپلاسین</h2>

        <p>لاپلاسین تابع $f(x,y)$ به صورت زیر تعریف می‌شود:</p>

        <div class="formula">
            $$\nabla^2 f = \frac{\partial^2 f}{\partial x^2} + \frac{\partial^2 f}{\partial y^2}$$
        </div>

        <h3>تقریب گسسته</h3>
        <p>برای تصاویر دیجیتال، مشتقات جزئی را می‌توان به صورت گسسته تقریب زد:</p>

        <div class="formula">
            $$\frac{\partial^2 f}{\partial x^2} = f(x+1,y) + f(x-1,y) - 2f(x,y)$$
        </div>

        <div class="formula">
            $$\frac{\partial^2 f}{\partial y^2} = f(x,y+1) + f(x,y-1) - 2f(x,y)$$
        </div>

        <p>بنابراین لاپلاسین به صورت زیر محاسبه می‌شود:</p>

        <div class="formula">
            $$\nabla^2 f = f(x+1,y) + f(x-1,y) + f(x,y+1) + f(x,y-1) - 4f(x,y)$$
        </div>

        <h2>هسته‌های لاپلاسین</h2>

        <h3>هسته اصلی لاپلاسین</h3>
        <div class="kernel">
            <table style="margin: 0 auto;">
                <tr>
                    <td>0</td>
                    <td>-1</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>-1</td>
                    <td>4</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <td>0</td>
                    <td>-1</td>
                    <td>0</td>
                </tr>
            </table>
        </div>

        <h3>هسته لاپلاسین شامل قطرها</h3>
        <div class="kernel">
            <table style="margin: 0 auto;">
                <tr>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <td>-1</td>
                    <td>8</td>
                    <td>-1</td>
                </tr>
                <tr>
                    <td>-1</td>
                    <td>-1</td>
                    <td>-1</td>
                </tr>
            </table>
        </div>

        <div class="highlight">
            <p><strong>تفاوت بین دو هسته:</strong></p>
            <ul>
                <li><strong>هسته 4 نقطه‌ای:</strong> فقط از همسایه‌های مستقیم (بالا، پایین، چپ، راست) استفاده می‌کند.</li>
                <li><strong>هسته 8 نقطه‌ای:</strong> از تمام همسایه‌ها شامل قطرها استفاده می‌کند و حساسیت بیشتری دارد.</li>
            </ul>
        </div>

        <h2>ویژگی‌های لاپلاسین</h2>

        <div class="definition">
            <h3>ویژگی‌های اصلی:</h3>
            <ul>
                <li><strong>مشتق مرتبه دوم:</strong> لاپلاسین تغییرات نرخ تغییر را اندازه‌گیری می‌کند.</li>
                <li><strong>ایزوتروپیک:</strong> در تمام جهات یکسان عمل می‌کند.</li>
                <li><strong>حساس به نویز:</strong> نسبت به نویز حساس‌تر از گرادیان است.</li>
                <li><strong>ارتقای جزئیات:</strong> برای برجسته کردن جزئیات ریز تصویر مناسب است.</li>
            </ul>
        </div>

        <h2>کاربرد لاپلاسین در ارتقای تصویر</h2>

        <h3>تیز کردن تصویر با لاپلاسین</h3>
        <p>برای تیز کردن تصویر، می‌توان لاپلاسین را از تصویر اصلی کم کرد:</p>

        <div class="formula">
            $$g(x,y) = f(x,y) - \nabla^2 f(x,y)$$
        </div>

        <p>یا اگر از هسته منفی استفاده شود:</p>

        <div class="formula">
            $$g(x,y) = f(x,y) + \nabla^2 f(x,y)$$
        </div>

        <div class="highlight">
            <p><strong>نکته مهم:</strong> علامت مرکز هسته لاپلاسین تعیین می‌کند که آیا باید از تصویر اصلی کم شود یا به آن اضافه شود.</p>
        </div>

        <h2>مقایسه لاپلاسین و گرادیان</h2>

        <table>
            <tr>
                <th>ویژگی</th>
                <th>گرادیان</th>
                <th>لاپلاسین</th>
            </tr>
            <tr>
                <td>مرتبه مشتق</td>
                <td>مرتبه اول</td>
                <td>مرتبه دوم</td>
            </tr>
            <tr>
                <td>نوع خروجی</td>
                <td>بردار (اندازه و جهت)</td>
                <td>اسکالر (فقط اندازه)</td>
            </tr>
            <tr>
                <td>حساسیت به نویز</td>
                <td>متوسط</td>
                <td>زیاد</td>
            </tr>
            <tr>
                <td>کاربرد اصلی</td>
                <td>تشخیص لبه‌ها</td>
                <td>ارتقای جزئیات ریز</td>
            </tr>
            <tr>
                <td>نتیجه</td>
                <td>لبه‌های برجسته</td>
                <td>جزئیات ریز برجسته</td>
            </tr>
        </table>

        <h2>مثال عملی: اسکن هسته‌ای استخوان</h2>

        <div class="definition">
            <h3>مشکل:</h3>
            <ul>
                <li>بازه باریک سطوح شدت</li>
                <li>محتوای با نویز بالا</li>
                <li>نیاز به ارتقای جزئیات اسکلت</li>
            </ul>
        </div>

        <div class="highlight">
            <p><strong>راه‌حل:</strong></p>
            <ul>
                <li>استفاده از لاپلاسین برای برجسته کردن جزئیات ریز</li>
                <li>استفاده از گرادیان (سوبل) برای ارتقای لبه‌های قابل رویت</li>
                <li>لبه‌های سوبل نسبت به تصویر لاپلاسین برجسته‌تر هستند</li>
                <li>لاپلاسین در ارتقای جزئیات ریز تصویر خوب عمل می‌کند اما نسبت به گرادیان نویز بیشتری دارد</li>
            </ul>
        </div>

        <h2>ترکیب لاپلاسین و گرادیان</h2>

        <div class="definition">
            <h3>روش ترکیبی:</h3>
            <ol>
                <li>گرادیان هموار می‌شود</li>
                <li>در تصویر لاپلاسین ضرب می‌شود</li>
                <li>ضرب، جزئیات را در ناحیه‌های قوی حفظ می‌کند</li>
                <li>در ناحیه‌های نسبتاً هموار از نویز می‌کاهد</li>
                <li>این فرایند را می‌توان بهترین ترکیب ویژگی‌های لاپلاسین و گرادیان دانست</li>
                <li>نتیجه به تصویر اصلی اضافه می‌شود تا تصویر واضح نهایی بدست آید</li>
            </ol>
        </div>

        <h3>مرحله نهایی</h3>
        <p>در کار ارتقا، افزایش بازه تصویر تیز شده با اعمال قانون توان صورت می‌گیرد. این روش نماینده انواع پردازش‌هایی است که می‌توانند به هم پیوند داده شوند تا نتایج بهتری بدست آید.</p>

        <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #ddd;">
            <p><strong>ادامه در:</strong> <a href="07_enhancement.html">تکنیک‌های ارتقای تصویر</a></p>
        </div>
    </div>
</body>
</html>

